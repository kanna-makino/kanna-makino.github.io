<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  
  
    <meta name="description" content="一爱代码，爱生活。">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    Mac系统下更改MySQL字符集 |
    
    Kanna-Makino</title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">
  
  <script src="/js/pace.min.js"></script>
</head>
</html>
<body>
<main class="content">
  <section class="outer">
  

<article id="post-Mac更改MySQL字符集" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Mac系统下更改MySQL字符集
    </h1>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/2019/12/31/Mac更改MySQL字符集/" class="article-date">
  <time datetime="2019-12-31T12:00:03.000Z" itemprop="datePublished">12-31-2019</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/学习笔记/">学习笔记</a>
  </div>

      </div>
    

    
      




    

    <div class="article-entry" itemprop="articleBody">
      


      
      
        <p>解决方案： <a href="https://zhuanlan.zhihu.com/p/34655552" target="_blank" rel="noopener">Mac环境下的MySQL编码设置</a></p>
<a id="more"></a>

<br>

<p>昨天晚上造测试数据的时候，无意间加进去几条中文数据，然后在终端里select出来之后发现中文全部变成问号了。然后就上网搜“Mac系统下修改MySQL字符集”，很多教程的内容是：</p>
<ol>
<li><p>去 /etc 目录下找是否有 my.cnf 文件；</p>
</li>
<li><p>如果没有的话去 /usr/local/mysql/support-files 文件夹下找 my-default.cnf 文件并复制到 /etc/my.cnf ，在[client]和[mysqld]标签下加上：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">default-character-set = utf8</span><br><span class="line"></span><br><span class="line">default-storage-engine = INNODB</span><br><span class="line">character-set-server = utf8</span><br><span class="line">collation-server = utf8_general_ci</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>但是我本地的 /usr/local/mysql/support-files 目录下并没有 .cnf 文件，后来才知道是版本的问题，我本地装的 MySQL 是 5.7.28 ，已经没有了这个文件。</p>
<br>

<p>解决方案：</p>
<p>先在系统偏好设置里停掉 MySQL 服务，然后自己在 /etc 下创建一个 my.cnf 文件，保存之后再重启 MySQL 即可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line"># Example MySQL config file for medium systems. </span><br><span class="line"># </span><br><span class="line"># This is for a system with little memory (32M - 64M) where MySQL plays </span><br><span class="line"># an important part, or systems up to 128M where MySQL is used together with </span><br><span class="line"># other programs (such as a web server) </span><br><span class="line"># </span><br><span class="line"># MySQL programs look for option files in a set of </span><br><span class="line"># locations which depend on the deployment platform. </span><br><span class="line"># You can copy this option file to one of those </span><br><span class="line"># locations. For information about these locations, see: </span><br><span class="line"># http://dev.mysql.com/doc/mysql/en/option-files.html </span><br><span class="line"># </span><br><span class="line"># In this file, you can use all long options that a program supports. </span><br><span class="line"># If you want to know which options a program supports, run the program </span><br><span class="line"># with the &quot;--help&quot; option. </span><br><span class="line"># The following options will be passed to all MySQL clients </span><br><span class="line">[client]</span><br><span class="line">default-character-set=utf8</span><br><span class="line">#password = your_password </span><br><span class="line">port = 3306 </span><br><span class="line">socket = /tmp/mysql.sock </span><br><span class="line"># Here follows entries for some specific programs </span><br><span class="line"># The MySQL server </span><br><span class="line">[mysqld]</span><br><span class="line">character-set-server=utf8</span><br><span class="line">init_connect=&apos;SET NAMES utf8</span><br><span class="line">port = 3306 </span><br><span class="line">socket = /tmp/mysql.sock </span><br><span class="line">skip-external-locking </span><br><span class="line">key_buffer_size = 16M </span><br><span class="line">max_allowed_packet = 1M </span><br><span class="line">table_open_cache = 64 </span><br><span class="line">sort_buffer_size = 512K </span><br><span class="line">net_buffer_length = 8K </span><br><span class="line">read_buffer_size = 256K </span><br><span class="line">read_rnd_buffer_size = 512K </span><br><span class="line">myisam_sort_buffer_size = 8M </span><br><span class="line">character-set-server=utf8 </span><br><span class="line">init_connect=&apos;SET NAMES utf8&apos; </span><br><span class="line"># Don&apos;t listen on a TCP/IP port at all. This can be a security enhancement, </span><br><span class="line"># if all processes that need to connect to mysqld run on the same host. </span><br><span class="line"># All interaction with mysqld must be made via Unix sockets or named pipes. </span><br><span class="line"># Note that using this option without enabling named pipes on Windows </span><br><span class="line"># (via the &quot;enable-named-pipe&quot; option) will render mysqld useless! </span><br><span class="line"># </span><br><span class="line">#skip-networking</span><br><span class="line"></span><br><span class="line"># Replication Master Server (default) </span><br><span class="line"># binary logging is required for replication </span><br><span class="line">log-bin=mysql-bin</span><br><span class="line"></span><br><span class="line"># binary logging format - mixed recommended </span><br><span class="line">binlog_format=mixed</span><br><span class="line"></span><br><span class="line"># required unique id between 1 and 2^32 - 1 </span><br><span class="line"># defaults to 1 if master-host is not set </span><br><span class="line"># but will not function as a master if omitted </span><br><span class="line">server-id = 1</span><br><span class="line"></span><br><span class="line"># Replication Slave (comment out master section to use this) </span><br><span class="line"># </span><br><span class="line"># To configure this host as a replication slave, you can choose between </span><br><span class="line"># two methods : </span><br><span class="line"># </span><br><span class="line"># 1) Use the CHANGE MASTER TO command (fully described in our manual) - </span><br><span class="line"># the syntax is: </span><br><span class="line"># </span><br><span class="line"># CHANGE MASTER TO MASTER_HOST=&lt;host&gt;, MASTER_PORT=&lt;port&gt;, </span><br><span class="line"># MASTER_USER=&lt;user&gt;, MASTER_PASSWORD=&lt;password&gt; ; </span><br><span class="line"># </span><br><span class="line"># where you replace &lt;host&gt;, &lt;user&gt;, &lt;password&gt; by quoted strings and </span><br><span class="line"># &lt;port&gt; by the master&apos;s port number (3306 by default). </span><br><span class="line"># </span><br><span class="line"># Example: </span><br><span class="line"># </span><br><span class="line"># CHANGE MASTER TO MASTER_HOST=&apos;125.564.12.1&apos;, MASTER_PORT=3306, </span><br><span class="line"># MASTER_USER=&apos;joe&apos;, MASTER_PASSWORD=&apos;secret&apos;; </span><br><span class="line"># </span><br><span class="line"># OR </span><br><span class="line"># </span><br><span class="line"># 2) Set the variables below. However, in case you choose this method, then </span><br><span class="line"># start replication for the first time (even unsuccessfully, for example </span><br><span class="line"># if you mistyped the password in master-password and the slave fails to </span><br><span class="line"># connect), the slave will create a master.info file, and any later </span><br><span class="line"># change in this file to the variables&apos; values below will be ignored and </span><br><span class="line"># overridden by the content of the master.info file, unless you shutdown </span><br><span class="line"># the slave server, delete master.info and restart the slaver server. </span><br><span class="line"># For that reason, you may want to leave the lines below untouched </span><br><span class="line"># (commented) and instead use CHANGE MASTER TO (see above) </span><br><span class="line"># </span><br><span class="line"># required unique id between 2 and 2^32 - 1 </span><br><span class="line"># (and different from the master) </span><br><span class="line"># defaults to 2 if master-host is set </span><br><span class="line"># but will not function as a slave if omitted </span><br><span class="line">#server-id = 2 </span><br><span class="line"># </span><br><span class="line"># The replication master for this slave - required </span><br><span class="line">#master-host = &lt;hostname&gt; </span><br><span class="line"># </span><br><span class="line"># The username the slave will use for authentication when connecting </span><br><span class="line"># to the master - required </span><br><span class="line">#master-user = &lt;username&gt; </span><br><span class="line"># </span><br><span class="line"># The password the slave will authenticate with when connecting to </span><br><span class="line"># the master - required </span><br><span class="line">#master-password = &lt;password&gt; </span><br><span class="line"># </span><br><span class="line"># The port the master is listening on. </span><br><span class="line"># optional - defaults to 3306 </span><br><span class="line">#master-port = &lt;port&gt; </span><br><span class="line"># </span><br><span class="line"># binary logging - not required for slaves, but recommended </span><br><span class="line">#log-bin=mysql-bin</span><br><span class="line"></span><br><span class="line"># Uncomment the following if you are using InnoDB tables </span><br><span class="line">#innodb_data_home_dir = /usr/local/mysql/data </span><br><span class="line">#innodb_data_file_path = ibdata1:10M:autoextend </span><br><span class="line">#innodb_log_group_home_dir = /usr/local/mysql/data </span><br><span class="line"># You can set .._buffer_pool_size up to 50 - 80 % </span><br><span class="line"># of RAM but beware of setting memory usage too high </span><br><span class="line">#innodb_buffer_pool_size = 16M </span><br><span class="line">#innodb_additional_mem_pool_size = 2M </span><br><span class="line"># Set .._log_file_size to 25 % of buffer pool size </span><br><span class="line">#innodb_log_file_size = 5M </span><br><span class="line">#innodb_log_buffer_size = 8M </span><br><span class="line">#innodb_flush_log_at_trx_commit = 1 </span><br><span class="line">#innodb_lock_wait_timeout = 50</span><br><span class="line"></span><br><span class="line">[mysqldump] </span><br><span class="line">quick </span><br><span class="line">max_allowed_packet = 16M</span><br><span class="line"></span><br><span class="line">[mysql] </span><br><span class="line">no-auto-rehash </span><br><span class="line"># Remove the next comment character if you are not familiar with SQL </span><br><span class="line">#safe-updates </span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[myisamchk] </span><br><span class="line">key_buffer_size = 20M </span><br><span class="line">sort_buffer_size = 20M </span><br><span class="line">read_buffer = 2M </span><br><span class="line">write_buffer = 2M</span><br><span class="line"></span><br><span class="line">[mysqlhotcopy] </span><br><span class="line">interactive-timeout</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.youyou-2608.com/2019/12/31/Mac更改MySQL字符集/" data-id="ckfmr5hn000145fcih2eih526"
         class="article-share-link">分享</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习笔记/">学习笔记</a></li></ul>

    </footer>

  </div>

  
    
  <nav class="article-nav">
    
      <a href="/2020/01/01/Thymeleaf分页模板/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            Thymeleaf分页模板
          
        </div>
      </a>
    
    
      <a href="/2019/12/29/OpenCV打不开摄像头-Process-finished-with-exit-code-134/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">OpenCV打不开摄像头:Process finished with exit code 134</div>
      </a>
    
  </nav>


  

  
    
  

</article>



</section>
  <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>&copy; 2018-2020 Kanna-Makino</li>
      <div class="float-right">
      	全站共&nbsp;<span class="post-count">56.2k</span>&nbsp;字&nbsp;&nbsp;&nbsp;
      	<span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
<script>
    var now = new Date(); 
    function createtime() { 
        var grt= new Date("11/11/2018 00:00:00");//此处修改你的建站时间或者网站上线时间 
        now.setTime(now.getTime()+250); 
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
        document.getElementById("timeDate").innerHTML = "已运行 "+dnum+" 天 "; 
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
    } 
	setInterval("createtime()",250);
</script>

	  </div>
    </ul>
  </div>
</footer>

</main>

<aside class="sidebar sidebar-specter">
  
    <button class="navbar-toggle"></button>
<nav class="navbar">
  
    <div class="logo">
      <a href="/"><img src="https://i.loli.net/2020/09/22/jGkm3Lg264yYFZw.jpg" alt="Kanna-Makino"></a>
    </div>
  
  <ul class="nav nav-main">
    
      <li class="nav-item">
        <a class="nav-item-link" href="/">主页</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/archives">归档</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/gallery">相册</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/about">关于</a>
      </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="Search">
        <i class="fe fe-search"></i>
        搜索
      </a>
    </li>
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      <div class="totop" id="totop">
  <i class="fe fe-rocket"></i>
</div>
    </li>
    <li class="nav-item">
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
  </aside>
  <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/lazyload.min.js"></script>
<script src="/js/busuanzi-2.3.pure.min.js"></script>

  <script src="/fancybox/jquery.fancybox.min.js"></script>



  <script src="/js/tocbot.min.js"></script>
  <script>
    // Tocbot_v4.7.0  http://tscanlin.github.io/tocbot/
    tocbot.init({
      tocSelector: '.tocbot',
      contentSelector: '.article-entry',
      headingSelector: 'h1, h2, h3, h4, h5, h6',
      hasInnerContainers: true,
      scrollSmooth: true,
      positionFixedSelector: '.tocbot',
      positionFixedClass: 'is-position-fixed',
      fixedSidebarOffset: 'auto',
    });
  </script>


<script src="/js/ocean.js"></script>

</body>
</html>